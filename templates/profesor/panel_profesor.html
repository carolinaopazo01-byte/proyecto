{% extends "base/app.html" %}
{% block title %}Panel Profesor{% endblock %}
{% block header %}Panel del Profesor / Entrenador{% endblock %}

{% block content %}
<p>Hola, <strong>{{ request.user.username }}</strong>.</p>

<h3>Próximas clases (7 días)</h3>
<table class="table">
  <thead>
    <tr><th>Curso</th><th>Fecha</th><th>Horario</th><th>Inscritos</th></tr>
  </thead>
  <tbody>
  {% for c in clases %}
    <tr>
      <td>{{ c.curso.nombre }}</td>
      <td>{{ c.fecha|date:"d/m" }}</td>
      <td>{{ c.hora_inicio }}–{{ c.hora_fin }}</td>
      <td>{{ c.curso.inscripciones.count }}</td>
    </tr>
  {% empty %}
    <tr><td colspan="4">No hay clases programadas.</td></tr>
  {% endfor %}
  </tbody>
</table>

{% if alertas.planificaciones or alertas.inasistencias %}
  <div class="bar">
    {% if alertas.planificaciones %}<span class="btn warning">Tienes {{ alertas.planificaciones }} planificaciones pendientes.</span>{% endif %}
    {% if alertas.inasistencias %}<span class="btn warning">Clases sin asistencia cargada: {{ alertas.inasistencias }}.</span>{% endif %}
  </div>
{% endif %}

<div class="bar" style="margin-top:16px;">
  <a class="btn" href="{% url 'usuarios:mis_cursos_prof' %}">📚 Mis cursos</a>
<a class="btn" href="{% url 'profesor:mi_asistencia_qr' %}">📷 Marcar mi asistencia (QR)</a>
  <a class="btn" href="{% url 'usuarios:planificaciones_prof' %}">📝 Planificaciones</a>
  <a class="btn" href="{% url 'usuarios:comunicados_prof' %}">📣 Comunicados</a>
  <a class="btn" href="{% url 'usuarios:perfil_profesor' %}">🔐 Mi perfil</a>
  <a class="btn" href="{% url 'profesor:alumno_temporal_new' %}">➕ Ingresar alumno temporalmente</a>
</div>
{% endblock %}

