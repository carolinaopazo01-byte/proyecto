{% extends "base/plantilla.html" %}
{% block title %}{{ form.instance.pk|yesno:"Editar franja,Nueva franja" }}{% endblock %}
{% block header %}{{ form.instance.pk|yesno:"Editar franja,Nueva franja" }}{% endblock %}

{% block extra_css %}
<style>
  /* Unificar look de campos nativos (aunque no tengan .form-control) */
  .card input[type="text"],
  .card input[type="email"],
  .card input[type="number"],
  .card input[type="password"],
  .card input[type="date"],
  .card input[type="time"],
  .card input[type="datetime-local"],
  .card select,
  .card textarea{
    display:block; width:100%;
    height:2.45rem; padding:.45rem .7rem;
    font-size:1rem; line-height:1.5;
    color:var(--text,#1f2937); background:#fff;
    border:1px solid var(--line,#e5e7eb); border-radius:8px;
    transition:border-color .15s ease, box-shadow .15s ease;
  }
  .card select{ height:2.55rem; }
  .card textarea{ min-height:110px; height:auto; resize:vertical; }

  .card input:hover, .card select:hover, .card textarea:hover{
    border-color:var(--primary-200,#aee0e5);
  }
  .card input:focus, .card select:focus, .card textarea:focus{
    outline:0;
    border-color:var(--primary-300,#7fcfd6);
    box-shadow:0 0 0 3px rgba(21,154,167,.18);
  }

  /* Centrar botones */
  .form-actions{
    display:flex; justify-content:center; gap:.5rem; flex-wrap:wrap;
    margin-top:.5rem;
  }
</style>
{% endblock %}

{% block content %}
<form method="post" novalidate>
  {% csrf_token %}

  {% if form.non_field_errors %}
    <div class="alert alert-danger">
      {% for e in form.non_field_errors %}<div>{{ e }}</div>{% endfor %}
    </div>
  {% endif %}

  <div class="card p-3 mb-3">
    <div class="row g-3">
      <div class="col-md-4">
        <label class="form-label" for="{{ form.inicio.id_for_label }}">Inicio</label>
        {{ form.inicio }}
        {% for e in form.inicio.errors %}<div class="text-danger small">{{ e }}</div>{% endfor %}
      </div>
      <div class="col-md-4">
        <label class="form-label" for="{{ form.fin.id_for_label }}">Fin</label>
        {{ form.fin }}
        {% for e in form.fin.errors %}<div class="text-danger small">{{ e }}</div>{% endfor %}
      </div>
      <div class="col-md-2">
        <label class="form-label" for="{{ form.piso.id_for_label }}">Piso</label>
        {{ form.piso }}
        {% for e in form.piso.errors %}<div class="text-danger small">{{ e }}</div>{% endfor %}
      </div>
      <div class="col-md-12">
        <label class="form-label" for="{{ form.notas.id_for_label }}">Notas (opcional)</label>
        {{ form.notas }}
        {% for e in form.notas.errors %}<div class="text-danger small">{{ e }}</div>{% endfor %}
      </div>
    </div>
  </div>

  <div class="form-actions">
    <button class="btn btn-primary" type="submit">Guardar</button>
    <a class="btn btn-outline-secondary" href="{% url 'pmul:slots_list' %}">Cancelar</a>
  </div>
</form>
{% endblock %}
