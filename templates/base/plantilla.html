{% load static %}
<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <link rel="icon" href="{% static 'img/logo/mi_logo.png' %}">
  <title>{% block title %}CPC - Dashboard{% endblock %}</title>

  <!-- CSS global -->
  <link href="{% static 'vendor/fontawesome-free/css/all.min.css' %}" rel="stylesheet">
  <!-- Bootstrap 5 CSS (CDN) -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Manrope:wght@500;600;700;800&display=swap" rel="stylesheet">
  <link href="{% static 'css/cpc-uniform.css' %}" rel="stylesheet">

  <style>
    :root{
      --topbar-h:56px;
      --bg:#f5f7fb;
      --surface:#fff;
      --bar-color:#0a5a64;
      --bar-text:#fff;
      --primary-600:#0e7c86;
      --primary-700:#0a5a64;
      --elev-shadow:0 2px 10px rgba(17,24,39,.1), 0 1px 2px rgba(17,24,39,.06);
    }

    html, body{height:100%;}
    body{
      margin:0;
      font-family:"Manrope",system-ui,-apple-system,"Segoe UI",Roboto,Arial,sans-serif;
      background:var(--bg);
      color:#1f2937;
    }

    .topbar{
      height:var(--topbar-h);
      display:flex; align-items:center; justify-content:space-between;
      background:var(--bar-color);
      color:var(--bar-text);
      padding:0 16px;
      box-shadow:var(--elev-shadow);
      position:sticky; top:0; z-index:100;
    }
    .topbar-logo{ height:28px; object-fit:contain; }

    .backBtn{
      display:inline-flex; align-items:center; justify-content:center;
      width:36px; height:36px;
      background:transparent; border:none; color:var(--bar-text);
      border-radius:8px; cursor:pointer; transition:background .18s;
    }
    .backBtn:hover{ background:rgba(255,255,255,.12); }

    .container-page{ padding:24px; max-width:1200px; margin:auto; }

    footer.footer{
      background:var(--bar-color);
      color:#fff;
      text-align:center;
      padding:12px;
      font-size:.95rem;
      margin-top:auto;
    }

    a{ color:var(--primary-600); }
    a:hover{ color:var(--primary-700); }

    .btn-primary{
      background:var(--primary-600);
      border-color:var(--primary-600);
    }
    .btn-primary:hover{
      background:var(--primary-700);
      border-color:var(--primary-700);
    }

    /* === AJUSTE RESPONSIVE: evitar ancho extra en móviles === */
    @media (max-width: 575.98px){
      html, body{
        width:100%;
        height:100%;
        margin:0;
        padding:0;
        overflow-x:hidden;
        background:var(--bg);
      }
      .app{
        width:100vw;
        min-height:100vh;
        display:flex;
        flex-direction:column;
        background:var(--bg);
      }
      .container-page{
        width:100%;
        max-width:100%;
        padding-left:16px;
        padding-right:16px;
        box-sizing:border-box;
      }
    }
  </style>

  {% block extra_css %}{% endblock %}
</head>

<body>
  <div class="app" style="min-height:100vh; display:flex; flex-direction:column;">

    <nav class="topbar">
      <button class="backBtn" onclick="history.back()" aria-label="Volver">
        <svg viewBox="0 0 24 24" width="22" height="22" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <path d="M15 18l-6-6 6-6"/>
        </svg>
      </button>
      <img src="{% static 'img/logo/mi_logo.png' %}" class="topbar-logo" alt="Logo CPC">
    </nav>

    <main class="container-page">
      {% block content %}{% endblock %}
    </main>

    <footer class="footer">
      Desarrollado por <b>Campeones Para Coquimbo</b> © {% now "Y" %}
    </footer>
  </div>

  <!-- Bootstrap 5 bundle (sin jQuery) -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" defer></script>

  {% block extra_js %}{% endblock %}
</body>
</html>
